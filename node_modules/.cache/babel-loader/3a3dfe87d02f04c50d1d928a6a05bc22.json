{"ast":null,"code":"var _jsxFileName = \"/home/gustazacchi/gestao-de-habitos/src/components/Habits/NewHabit/index.jsx\",\n    _s = $RefreshSig$();\n\nimport api from \"../../../services/api\";\nimport * as yup from \"yup\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, MySelect, Container, Input } from \"./styles\";\nimport { toast } from \"react-toastify\";\nimport { useContext } from \"react\";\nimport { HabitsContext, useHabits } from \"../../../providers/habits\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewHabit = ({\n  handleClose\n}) => {\n  _s();\n\n  var _errors$title, _errors$category;\n\n  const formSchema = yup.object().shape({\n    title: yup.string().min(2, \"Mininum 2 characters\").required(\"Required\"),\n    category: yup.string().min(2, \"Mininum 2 characters\").required(\"Required\"),\n    difficulty: yup.string().ensure().required(\"Required\"),\n    frequency: yup.string().ensure().required(\"Required\")\n  });\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(formSchema)\n  });\n  const {\n    token,\n    user_id,\n    getHabits\n  } = useContext(HabitsContext);\n\n  const onSubmitFunc = data_user => {\n    const data = {\n      category: data_user.category,\n      title: data_user.title,\n      user: user_id,\n      difficulty: data_user.difficulty,\n      frequency: data_user.frequency,\n      how_much_achieved: 0\n    };\n    api.defaults.headers.authorization = `Bearer ${token}`;\n    api.post(\"/habits/\", data).then(res => {\n      toast.success(\"Habit created\");\n      getHabits();\n    }).catch(err => toast.error(\"Error in creating the habit\"));\n    handleClose();\n  };\n\n  const useStyles = makeStyles(theme => ({\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      margin: \"0 auto\",\n      display: \"flex\",\n      width: \"90%\",\n      borderRadius: \"4px\",\n      padding: \"0\"\n    }\n  }));\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.paper,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"New Habit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => handleClose(),\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmitFunc),\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          name: \"title\",\n          placeholder: \"Title\",\n          required: true,\n          margin: \"normal\",\n          variant: \"outlined\",\n          label: \"Title\",\n          size: \"small\",\n          color: \"primary\",\n          ...register(\"title\"),\n          error: !!errors.title,\n          helperText: (_errors$title = errors.title) === null || _errors$title === void 0 ? void 0 : _errors$title.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          name: \"category\",\n          placeholder: \"Category\",\n          required: true,\n          margin: \"normal\",\n          variant: \"outlined\",\n          label: \"Category\",\n          size: \"small\",\n          color: \"primary\",\n          ...register(\"category\"),\n          error: !!errors.category,\n          helperText: (_errors$category = errors.category) === null || _errors$category === void 0 ? void 0 : _errors$category.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MySelect, {\n          name: \"difficulty\",\n          ...register(\"difficulty\"),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            selected: true,\n            children: \"Difficulty *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"easy\",\n            children: \"Easy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"moderated\",\n            children: \"Moderated\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"hard\",\n            children: \"Hard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MySelect, {\n          name: \"frequency\",\n          ...register(\"frequency\"),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            selected: true,\n            children: \"Frequency *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"three in three hours\",\n            children: \"Three in three hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"daily\",\n            children: \"Daily\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"weekly\",\n            children: \"Weekly\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NewHabit, \"IRkfCFIV3Fl2yBivvc+UchI76eo=\", true, function () {\n  return [useForm];\n});\n\n_c = NewHabit;\nexport default NewHabit;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewHabit\");","map":{"version":3,"sources":["/home/gustazacchi/gestao-de-habitos/src/components/Habits/NewHabit/index.jsx"],"names":["api","yup","useForm","yupResolver","makeStyles","Button","MySelect","Container","Input","toast","useContext","HabitsContext","useHabits","NewHabit","handleClose","formSchema","object","shape","title","string","min","required","category","difficulty","ensure","frequency","register","handleSubmit","formState","errors","resolver","token","user_id","getHabits","onSubmitFunc","data_user","data","user","how_much_achieved","defaults","headers","authorization","post","then","res","success","catch","err","error","useStyles","theme","paper","backgroundColor","palette","background","border","boxShadow","shadows","margin","display","width","borderRadius","padding","classes","message"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,uBAAhB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,SAA3B,EAAsCC,KAAtC,QAAmD,UAAnD;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,aAAT,EAAwBC,SAAxB,QAAyC,2BAAzC;;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAqB;AAAA;;AAAA;;AACpC,QAAMC,UAAU,GAAGd,GAAG,CAACe,MAAJ,GAAaC,KAAb,CAAmB;AACpCC,IAAAA,KAAK,EAAEjB,GAAG,CAACkB,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoB,sBAApB,EAA4CC,QAA5C,CAAqD,UAArD,CAD6B;AAEpCC,IAAAA,QAAQ,EAAErB,GAAG,CAACkB,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoB,sBAApB,EAA4CC,QAA5C,CAAqD,UAArD,CAF0B;AAGpCE,IAAAA,UAAU,EAAEtB,GAAG,CAACkB,MAAJ,GAAaK,MAAb,GAAsBH,QAAtB,CAA+B,UAA/B,CAHwB;AAIpCI,IAAAA,SAAS,EAAExB,GAAG,CAACkB,MAAJ,GAAaK,MAAb,GAAsBH,QAAtB,CAA+B,UAA/B;AAJyB,GAAnB,CAAnB;AAOA,QAAM;AACJK,IAAAA,QADI;AAEJC,IAAAA,YAFI;AAGJC,IAAAA,SAAS,EAAE;AAAEC,MAAAA;AAAF;AAHP,MAIF3B,OAAO,CAAC;AACV4B,IAAAA,QAAQ,EAAE3B,WAAW,CAACY,UAAD;AADX,GAAD,CAJX;AAOA,QAAM;AAAEgB,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA;AAAlB,MAAgCvB,UAAU,CAACC,aAAD,CAAhD;;AACA,QAAMuB,YAAY,GAAIC,SAAD,IAAe;AAClC,UAAMC,IAAI,GAAG;AACXd,MAAAA,QAAQ,EAAEa,SAAS,CAACb,QADT;AAEXJ,MAAAA,KAAK,EAAEiB,SAAS,CAACjB,KAFN;AAGXmB,MAAAA,IAAI,EAAEL,OAHK;AAIXT,MAAAA,UAAU,EAAEY,SAAS,CAACZ,UAJX;AAKXE,MAAAA,SAAS,EAAEU,SAAS,CAACV,SALV;AAMXa,MAAAA,iBAAiB,EAAE;AANR,KAAb;AAQAtC,IAAAA,GAAG,CAACuC,QAAJ,CAAaC,OAAb,CAAqBC,aAArB,GAAsC,UAASV,KAAM,EAArD;AACA/B,IAAAA,GAAG,CACA0C,IADH,CACQ,UADR,EACoBN,IADpB,EAEGO,IAFH,CAESC,GAAD,IAAS;AACbnC,MAAAA,KAAK,CAACoC,OAAN,CAAc,eAAd;AACAZ,MAAAA,SAAS;AACV,KALH,EAMGa,KANH,CAMUC,GAAD,IAAStC,KAAK,CAACuC,KAAN,CAAY,6BAAZ,CANlB;AAQAlC,IAAAA,WAAW;AACZ,GAnBD;;AAqBA,QAAMmC,SAAS,GAAG7C,UAAU,CAAE8C,KAAD,KAAY;AACvCC,IAAAA,KAAK,EAAE;AACLC,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,UAAd,CAAyBH,KADrC;AAELI,MAAAA,MAAM,EAAE,gBAFH;AAGLC,MAAAA,SAAS,EAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CAHN;AAILC,MAAAA,MAAM,EAAE,QAJH;AAKLC,MAAAA,OAAO,EAAE,MALJ;AAMLC,MAAAA,KAAK,EAAE,KANF;AAOLC,MAAAA,YAAY,EAAE,KAPT;AAQLC,MAAAA,OAAO,EAAE;AARJ;AADgC,GAAZ,CAAD,CAA5B;AAYA,QAAMC,OAAO,GAAGd,SAAS,EAAzB;AAEA,sBACE;AAAK,IAAA,SAAS,EAAEc,OAAO,CAACZ,KAAxB;AAAA,2BACE,QAAC,SAAD;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAK,UAAA,OAAO,EAAE,MAAMrC,WAAW,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAM,QAAA,QAAQ,EAAEa,YAAY,CAACO,YAAD,CAA5B;AAAA,gCACE,QAAC,KAAD;AACE,UAAA,IAAI,EAAC,OADP;AAEE,UAAA,WAAW,EAAC,OAFd;AAGE,UAAA,QAAQ,MAHV;AAIE,UAAA,MAAM,EAAC,QAJT;AAKE,UAAA,OAAO,EAAC,UALV;AAME,UAAA,KAAK,EAAC,OANR;AAOE,UAAA,IAAI,EAAC,OAPP;AAQE,UAAA,KAAK,EAAC,SARR;AAAA,aASMR,QAAQ,CAAC,OAAD,CATd;AAUE,UAAA,KAAK,EAAE,CAAC,CAACG,MAAM,CAACX,KAVlB;AAWE,UAAA,UAAU,mBAAEW,MAAM,CAACX,KAAT,kDAAE,cAAc8C;AAX5B;AAAA;AAAA;AAAA;AAAA,gBADF,eAcE,QAAC,KAAD;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,WAAW,EAAC,UAFd;AAGE,UAAA,QAAQ,MAHV;AAIE,UAAA,MAAM,EAAC,QAJT;AAKE,UAAA,OAAO,EAAC,UALV;AAME,UAAA,KAAK,EAAC,UANR;AAOE,UAAA,IAAI,EAAC,OAPP;AAQE,UAAA,KAAK,EAAC,SARR;AAAA,aASMtC,QAAQ,CAAC,UAAD,CATd;AAUE,UAAA,KAAK,EAAE,CAAC,CAACG,MAAM,CAACP,QAVlB;AAWE,UAAA,UAAU,sBAAEO,MAAM,CAACP,QAAT,qDAAE,iBAAiB0C;AAX/B;AAAA;AAAA;AAAA;AAAA,gBAdF,eA4BE,QAAC,QAAD;AAAU,UAAA,IAAI,EAAC,YAAf;AAAA,aAAgCtC,QAAQ,CAAC,YAAD,CAAxC;AAAA,kCACE;AAAQ,YAAA,KAAK,EAAC,EAAd;AAAiB,YAAA,QAAQ,MAAzB;AAA0B,YAAA,QAAQ,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAQ,YAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE;AAAQ,YAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,eAME;AAAQ,YAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5BF,eAqCE,QAAC,QAAD;AAAU,UAAA,IAAI,EAAC,WAAf;AAAA,aAA+BA,QAAQ,CAAC,WAAD,CAAvC;AAAA,kCACE;AAAQ,YAAA,KAAK,EAAC,EAAd;AAAiB,YAAA,QAAQ,MAAzB;AAA0B,YAAA,QAAQ,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAQ,YAAA,KAAK,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE;AAAQ,YAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,eAME;AAAQ,YAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA;AAAA;AAAA;AAAA;AAAA,gBArCF,eA8CE,QAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9CF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA0DD,CA7GD;;GAAMb,Q;UAYAX,O;;;KAZAW,Q;AA8GN,eAAeA,QAAf","sourcesContent":["import api from \"../../../services/api\";\nimport * as yup from \"yup\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, MySelect, Container, Input } from \"./styles\";\nimport { toast } from \"react-toastify\";\nimport { useContext } from \"react\";\nimport { HabitsContext, useHabits } from \"../../../providers/habits\";\n\nconst NewHabit = ({ handleClose }) => {\n  const formSchema = yup.object().shape({\n    title: yup.string().min(2, \"Mininum 2 characters\").required(\"Required\"),\n    category: yup.string().min(2, \"Mininum 2 characters\").required(\"Required\"),\n    difficulty: yup.string().ensure().required(\"Required\"),\n    frequency: yup.string().ensure().required(\"Required\"),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    resolver: yupResolver(formSchema),\n  });\n  const { token, user_id, getHabits } = useContext(HabitsContext);\n  const onSubmitFunc = (data_user) => {\n    const data = {\n      category: data_user.category,\n      title: data_user.title,\n      user: user_id,\n      difficulty: data_user.difficulty,\n      frequency: data_user.frequency,\n      how_much_achieved: 0,\n    };\n    api.defaults.headers.authorization = `Bearer ${token}`;\n    api\n      .post(\"/habits/\", data)\n      .then((res) => {\n        toast.success(\"Habit created\");\n        getHabits();\n      })\n      .catch((err) => toast.error(\"Error in creating the habit\"));\n\n    handleClose();\n  };\n\n  const useStyles = makeStyles((theme) => ({\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      margin: \"0 auto\",\n      display: \"flex\",\n      width: \"90%\",\n      borderRadius: \"4px\",\n      padding: \"0\",\n    },\n  }));\n  const classes = useStyles();\n\n  return (\n    <div className={classes.paper}>\n      <Container>\n        <div className=\"header\">\n          <strong>New Habit</strong>\n          <div onClick={() => handleClose()}>X</div>\n        </div>\n        <form onSubmit={handleSubmit(onSubmitFunc)}>\n          <Input\n            name=\"title\"\n            placeholder=\"Title\"\n            required\n            margin=\"normal\"\n            variant=\"outlined\"\n            label=\"Title\"\n            size=\"small\"\n            color=\"primary\"\n            {...register(\"title\")}\n            error={!!errors.title}\n            helperText={errors.title?.message}\n          />\n          <Input\n            name=\"category\"\n            placeholder=\"Category\"\n            required\n            margin=\"normal\"\n            variant=\"outlined\"\n            label=\"Category\"\n            size=\"small\"\n            color=\"primary\"\n            {...register(\"category\")}\n            error={!!errors.category}\n            helperText={errors.category?.message}\n          />\n\n          <MySelect name=\"difficulty\" {...register(\"difficulty\")}>\n            <option value=\"\" disabled selected>\n              Difficulty *\n            </option>\n            <option value=\"easy\">Easy</option>\n            <option value=\"moderated\">Moderated</option>\n            <option value=\"hard\">Hard</option>\n          </MySelect>\n\n          <MySelect name=\"frequency\" {...register(\"frequency\")}>\n            <option value=\"\" disabled selected>\n              Frequency *\n            </option>\n            <option value=\"three in three hours\">Three in three hours</option>\n            <option value=\"daily\">Daily</option>\n            <option value=\"weekly\">Weekly</option>\n          </MySelect>\n\n          <Button type=\"submit\">Register</Button>\n        </form>\n      </Container>\n    </div>\n  );\n};\nexport default NewHabit;\n"]},"metadata":{},"sourceType":"module"}