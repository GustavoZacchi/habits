{"ast":null,"code":"var _jsxFileName = \"/home/gustazacchi/gestao-de-habitos/src/components/Goal/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Container, Progress } from \"./styles\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { makeStyles, Modal, Checkbox } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { useEffect, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { buildStyles } from \"react-circular-progressbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Goal = ({\n  goal,\n  setModalGoal,\n  modalGoal,\n  setGoal\n}) => {\n  _s();\n\n  const [disabledCheck, setDisabledCheck] = useState(false);\n  const [checked, setChecked] = useState(localStorage.getItem(\"dailyCheck\"));\n  const [counter, setCounter] = useState(0);\n  useEffect(() => {\n    setChecked(localStorage.getItem(\"dailyCheck\"));\n  }, []);\n\n  const handleCheck = e => {\n    setCounter(counter + 14);\n\n    if (counter > 83) {\n      setCounter(100);\n    }\n\n    if (e.target.checked === true) {\n      api.patch(`/goals/${goal.id}/`, {\n        how_much_achieved: counter\n      });\n      setDisabledCheck(true);\n      setChecked(true);\n      toast.success(\"Daily goal checked\");\n      localStorage.setItem(\"dailyCheck\", true);\n      setTimeout(() => {\n        localStorage.setItem(\"dailyCheck\", false);\n        setDisabledCheck(false);\n        setChecked(false);\n      }, 2000);\n    }\n  };\n\n  const handleClose = () => {\n    setModalGoal(false);\n    setGoal([]);\n  };\n\n  const token = localStorage.getItem(\"@GestãoDeHábitos:access\") || \"\";\n\n  const handleDelete = () => {\n    axios.delete(`https://kabit-api.herokuapp.com/goals/${goal.id}/`, {\n      headers: {\n        Authorization: `Bearer ${JSON.parse(token)}`\n      }\n    }).then(response => {\n      toast.success(\"Deleted\");\n      setModalGoal(false);\n    }).catch(e => {\n      toast.error(\"Error!\");\n    });\n  };\n\n  const useStyles = makeStyles(theme => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"\"\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      margin: \"0 auto\",\n      display: \"flex\",\n      width: \"90%\",\n      borderRadius: \"4px\",\n      padding: \"0\"\n    }\n  }));\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    \"aria-labelledby\": \"transition-modal-title\",\n    \"aria-describedby\": \"transition-modal-description\",\n    className: classes.modal,\n    open: modalGoal,\n    onClose: handleClose,\n    closeAfterTransition: true,\n    BackdropComponent: Backdrop,\n    BackdropProps: {\n      timeout: 500\n    },\n    children: /*#__PURE__*/_jsxDEV(Fade, {\n      in: modalGoal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.paper,\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container__nameGoal\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Goal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => handleClose(),\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container__infoGoal\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: goal.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Difficulty: \", goal.difficulty]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"achieved\",\n              children: [/*#__PURE__*/_jsxDEV(Progress, {\n                value: counter,\n                text: `${counter}%`,\n                styles: buildStyles({\n                  pathColor: \"#0a315d\",\n                  textColor: \"#0a315d\",\n                  trailColor: \"rgb(234 169 143)\"\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"check\",\n                children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                  checked: checked,\n                  disabled: disabledCheck,\n                  onChange: e => handleCheck(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Daily check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Goal, \"x6YrkpHkkwqqW+gGGdl5uggzwdk=\", true);\n\n_c = Goal;\nexport default Goal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Goal\");","map":{"version":3,"sources":["/home/gustazacchi/gestao-de-habitos/src/components/Goal/index.jsx"],"names":["Container","Progress","Backdrop","Fade","makeStyles","Modal","Checkbox","axios","toast","useEffect","useState","api","buildStyles","Goal","goal","setModalGoal","modalGoal","setGoal","disabledCheck","setDisabledCheck","checked","setChecked","localStorage","getItem","counter","setCounter","handleCheck","e","target","patch","id","how_much_achieved","success","setItem","setTimeout","handleClose","token","handleDelete","delete","headers","Authorization","JSON","parse","then","response","catch","error","useStyles","theme","modal","display","alignItems","justifyContent","width","paper","backgroundColor","palette","background","border","boxShadow","shadows","margin","borderRadius","padding","classes","timeout","title","difficulty","pathColor","textColor","trailColor"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,UAApC;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,UAAT,EAAqBC,KAArB,EAA4BC,QAA5B,QAA4C,mBAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,SAASC,WAAT,QAA4B,4BAA5B;;;AACA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,YAAR;AAAsBC,EAAAA,SAAtB;AAAiCC,EAAAA;AAAjC,CAAD,KAAgD;AAAA;;AAC3D,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCT,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAACY,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAD,CAAtC;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,CAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,UAAU,CAACC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAD,CAAV;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMG,WAAW,GAAIC,CAAD,IAAO;AACzBF,IAAAA,UAAU,CAACD,OAAO,GAAG,EAAX,CAAV;;AACA,QAAIA,OAAO,GAAG,EAAd,EAAkB;AAChBC,MAAAA,UAAU,CAAC,GAAD,CAAV;AACD;;AACD,QAAIE,CAAC,CAACC,MAAF,CAASR,OAAT,KAAqB,IAAzB,EAA+B;AAC7BT,MAAAA,GAAG,CAACkB,KAAJ,CAAW,UAASf,IAAI,CAACgB,EAAG,GAA5B,EAAgC;AAC9BC,QAAAA,iBAAiB,EAAEP;AADW,OAAhC;AAGAL,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAE,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAb,MAAAA,KAAK,CAACwB,OAAN,CAAc,oBAAd;AACAV,MAAAA,YAAY,CAACW,OAAb,CAAqB,YAArB,EAAmC,IAAnC;AACAC,MAAAA,UAAU,CAAC,MAAM;AACfZ,QAAAA,YAAY,CAACW,OAAb,CAAqB,YAArB,EAAmC,KAAnC;AACAd,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAE,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OAJS,EAIP,IAJO,CAAV;AAKD;AACF,GAnBD;;AAqBA,QAAMc,WAAW,GAAG,MAAM;AACxBpB,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,IAAAA,OAAO,CAAC,EAAD,CAAP;AACD,GAHD;;AAKA,QAAMmB,KAAK,GAAGd,YAAY,CAACC,OAAb,CAAqB,yBAArB,KAAmD,EAAjE;;AACA,QAAMc,YAAY,GAAG,MAAM;AACzB9B,IAAAA,KAAK,CACF+B,MADH,CAEK,yCAAwCxB,IAAI,CAACgB,EAAG,GAFrD,EAII;AACES,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASC,IAAI,CAACC,KAAL,CAAWN,KAAX,CAAkB;AADpC;AADX,KAJJ,EAUGO,IAVH,CAUSC,QAAD,IAAc;AAClBpC,MAAAA,KAAK,CAACwB,OAAN,CAAc,SAAd;AACAjB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAbH,EAcG8B,KAdH,CAcUlB,CAAD,IAAO;AACZnB,MAAAA,KAAK,CAACsC,KAAN,CAAY,QAAZ;AACD,KAhBH;AAiBD,GAlBD;;AAmBA,QAAMC,SAAS,GAAG3C,UAAU,CAAE4C,KAAD,KAAY;AACvCC,IAAAA,KAAK,EAAE;AACLC,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,UAAU,EAAE,QAFP;AAGLC,MAAAA,cAAc,EAAE,QAHX;AAILC,MAAAA,KAAK,EAAE;AAJF,KADgC;AAOvCC,IAAAA,KAAK,EAAE;AACLC,MAAAA,eAAe,EAAEP,KAAK,CAACQ,OAAN,CAAcC,UAAd,CAAyBH,KADrC;AAELI,MAAAA,MAAM,EAAE,gBAFH;AAGLC,MAAAA,SAAS,EAAEX,KAAK,CAACY,OAAN,CAAc,CAAd,CAHN;AAILC,MAAAA,MAAM,EAAE,QAJH;AAKLX,MAAAA,OAAO,EAAE,MALJ;AAMLG,MAAAA,KAAK,EAAE,KANF;AAOLS,MAAAA,YAAY,EAAE,KAPT;AAQLC,MAAAA,OAAO,EAAE;AARJ;AAPgC,GAAZ,CAAD,CAA5B;AAkBA,QAAMC,OAAO,GAAGjB,SAAS,EAAzB;AAEA,sBACE,QAAC,KAAD;AACE,uBAAgB,wBADlB;AAEE,wBAAiB,8BAFnB;AAGE,IAAA,SAAS,EAAEiB,OAAO,CAACf,KAHrB;AAIE,IAAA,IAAI,EAAEjC,SAJR;AAKE,IAAA,OAAO,EAAEmB,WALX;AAME,IAAA,oBAAoB,MANtB;AAOE,IAAA,iBAAiB,EAAEjC,QAPrB;AAQE,IAAA,aAAa,EAAE;AACb+D,MAAAA,OAAO,EAAE;AADI,KARjB;AAAA,2BAYE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAEjD,SAAV;AAAA,6BACE;AAAK,QAAA,SAAS,EAAEgD,OAAO,CAACV,KAAxB;AAAA,+BACE,QAAC,SAAD;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,qBAAf;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,cAAA,OAAO,EAAE,MAAMnB,WAAW,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAME;AAAK,YAAA,SAAS,EAAC,qBAAf;AAAA,oCACE;AAAA,wBAAKrB,IAAI,CAACoD;AAAV;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA,yCAAgBpD,IAAI,CAACqD,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAK,cAAA,SAAS,EAAC,UAAf;AAAA,sCACE,QAAC,QAAD;AACE,gBAAA,KAAK,EAAE3C,OADT;AAEE,gBAAA,IAAI,EAAG,GAAEA,OAAQ,GAFnB;AAGE,gBAAA,MAAM,EAAEZ,WAAW,CAAC;AAClBwD,kBAAAA,SAAS,EAAE,SADO;AAElBC,kBAAAA,SAAS,EAAE,SAFO;AAGlBC,kBAAAA,UAAU,EAAE;AAHM,iBAAD;AAHrB;AAAA;AAAA;AAAA;AAAA,sBADF,eAUE;AAAK,gBAAA,SAAS,EAAC,OAAf;AAAA,wCACE,QAAC,QAAD;AACE,kBAAA,OAAO,EAAElD,OADX;AAEE,kBAAA,QAAQ,EAAEF,aAFZ;AAGE,kBAAA,QAAQ,EAAGS,CAAD,IAAOD,WAAW,CAACC,CAAD;AAH9B;AAAA;AAAA;AAAA;AAAA,wBADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBANF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,eAuBE;AAAQ,cAAA,OAAO,EAAE,MAAMU,YAAY,EAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAZF;AAAA;AAAA;AAAA;AAAA,UADF;AAmDD,CA9HD;;GAAMxB,I;;KAAAA,I;AAgIN,eAAeA,IAAf","sourcesContent":["import { Container, Progress } from \"./styles\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { makeStyles, Modal, Checkbox } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { useEffect, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { buildStyles } from \"react-circular-progressbar\";\nconst Goal = ({ goal, setModalGoal, modalGoal, setGoal }) => {\n  const [disabledCheck, setDisabledCheck] = useState(false);\n  const [checked, setChecked] = useState(localStorage.getItem(\"dailyCheck\"));\n  const [counter, setCounter] = useState(0);\n\n  useEffect(() => {\n    setChecked(localStorage.getItem(\"dailyCheck\"));\n  }, []);\n\n  const handleCheck = (e) => {\n    setCounter(counter + 14);\n    if (counter > 83) {\n      setCounter(100);\n    }\n    if (e.target.checked === true) {\n      api.patch(`/goals/${goal.id}/`, {\n        how_much_achieved: counter,\n      });\n      setDisabledCheck(true);\n      setChecked(true);\n      toast.success(\"Daily goal checked\");\n      localStorage.setItem(\"dailyCheck\", true);\n      setTimeout(() => {\n        localStorage.setItem(\"dailyCheck\", false);\n        setDisabledCheck(false);\n        setChecked(false);\n      }, 2000);\n    }\n  };\n\n  const handleClose = () => {\n    setModalGoal(false);\n    setGoal([]);\n  };\n\n  const token = localStorage.getItem(\"@GestãoDeHábitos:access\") || \"\";\n  const handleDelete = () => {\n    axios\n      .delete(\n        `https://kabit-api.herokuapp.com/goals/${goal.id}/`,\n\n        {\n          headers: {\n            Authorization: `Bearer ${JSON.parse(token)}`,\n          },\n        }\n      )\n      .then((response) => {\n        toast.success(\"Deleted\");\n        setModalGoal(false);\n      })\n      .catch((e) => {\n        toast.error(\"Error!\");\n      });\n  };\n  const useStyles = makeStyles((theme) => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      margin: \"0 auto\",\n      display: \"flex\",\n      width: \"90%\",\n      borderRadius: \"4px\",\n      padding: \"0\",\n    },\n  }));\n  const classes = useStyles();\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={modalGoal}\n      onClose={handleClose}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={modalGoal}>\n        <div className={classes.paper}>\n          <Container>\n            <div className=\"container__nameGoal\">\n              <strong>Goal</strong>\n              <div onClick={() => handleClose()}>X</div>\n            </div>\n\n            <div className=\"container__infoGoal\">\n              <h2>{goal.title}</h2>\n              <p>Difficulty: {goal.difficulty}</p>\n              <div className=\"achieved\">\n                <Progress\n                  value={counter}\n                  text={`${counter}%`}\n                  styles={buildStyles({\n                    pathColor: \"#0a315d\",\n                    textColor: \"#0a315d\",\n                    trailColor: \"rgb(234 169 143)\",\n                  })}\n                />\n                <div className=\"check\">\n                  <Checkbox\n                    checked={checked}\n                    disabled={disabledCheck}\n                    onChange={(e) => handleCheck(e)}\n                  />\n                  <span>Daily check</span>\n                </div>\n              </div>\n\n              <button onClick={() => handleDelete()}>Delete</button>\n            </div>\n          </Container>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\n\nexport default Goal;\n"]},"metadata":{},"sourceType":"module"}